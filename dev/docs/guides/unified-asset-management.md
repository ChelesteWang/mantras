# ç»Ÿä¸€èµ„äº§ç®¡ç†æ–¹æ¡ˆ

## ğŸ¯ æ¦‚è¿°

ä¸ºäº†è§£å†³åŒæ—¶ç»´æŠ¤ JSON å’Œ Markdown ä¸¤ç§æ ¼å¼æ–‡ä»¶çš„å¤æ‚æ€§ï¼Œæˆ‘ä»¬å®æ–½äº†ç»Ÿä¸€çš„èµ„äº§ç®¡ç†æ–¹æ¡ˆï¼Œé‡‡ç”¨ **Markdown + Front Matter** ä½œä¸ºå•ä¸€æ•°æ®æºã€‚

## ğŸ”„ è¿ç§»æ–¹æ¡ˆ

### 1. è‡ªåŠ¨è¿ç§»å·¥å…·

ä½¿ç”¨æä¾›çš„è¿ç§»å·¥å…·å°†ç°æœ‰ JSON æ–‡ä»¶è½¬æ¢ä¸º Markdown æ ¼å¼ï¼š

```bash
# è¿è¡Œè¿ç§»å·¥å…·
npm run assets:migrate
```

è¿ç§»å·¥å…·ä¼šï¼š
- ğŸ“¦ è‡ªåŠ¨åˆ›å»ºå¤‡ä»½åˆ° `assets-backup/` ç›®å½•
- ğŸ”„ å°†æ‰€æœ‰ JSON æ–‡ä»¶è½¬æ¢ä¸ºå¯¹åº”çš„ Markdown æ–‡ä»¶
- ğŸ—‘ï¸ åˆ é™¤åŸå§‹ JSON æ–‡ä»¶ï¼ˆå·²å¤‡ä»½ï¼‰
- âœ… ä¿æŒæ‰€æœ‰å…ƒæ•°æ®å’Œå†…å®¹å®Œæ•´æ€§

### 2. åŒæ­¥å’Œç»´æŠ¤

ä½¿ç”¨åŒæ­¥å·¥å…·ç¡®ä¿èµ„äº§å…ƒæ•°æ®çš„ä¸€è‡´æ€§ï¼š

```bash
# è¿è¡ŒåŒæ­¥å·¥å…·
npm run assets:sync
```

åŒæ­¥å·¥å…·ä¼šï¼š
- ğŸ” æ‰«ææ‰€æœ‰ Markdown èµ„äº§æ–‡ä»¶
- ğŸ“‹ ç”Ÿæˆç»Ÿä¸€çš„å…ƒæ•°æ®ç´¢å¼•
- ğŸ” éªŒè¯èµ„äº§å®Œæ•´æ€§å’Œä¸€è‡´æ€§
- ğŸ“Š æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
- ğŸ”§ è‡ªåŠ¨ä¿®å¤å¸¸è§é—®é¢˜

## ğŸ“ æ–°çš„æ–‡ä»¶ç»“æ„

```
assets/
â”œâ”€â”€ personas/
â”‚   â”œâ”€â”€ tech-expert.md          # ç»Ÿä¸€çš„ Markdown æ ¼å¼
â”‚   â”œâ”€â”€ creative.md
â”‚   â””â”€â”€ analyst.md
â”œâ”€â”€ prompt-templates/
â”‚   â”œâ”€â”€ role-prompting.md
â”‚   â”œâ”€â”€ debug-simulation.md
â”‚   â””â”€â”€ feature-blueprinting.md
â”œâ”€â”€ metadata.json               # è‡ªåŠ¨ç”Ÿæˆçš„å…ƒæ•°æ®ç´¢å¼•
â””â”€â”€ statistics.json             # è‡ªåŠ¨ç”Ÿæˆçš„ç»Ÿè®¡ä¿¡æ¯
```

## ğŸ“ Markdown æ ¼å¼è§„èŒƒ

### Front Matter ç»“æ„

```yaml
---
id: "tech-expert"
type: "persona"
name: "Technical Expert"
description: "Deep technical specialist with comprehensive system knowledge"
version: "1.0.0"
author: "mantras-team"
tags: ["analysis", "technical", "engineering", "code"]
---
```

### å†…å®¹ç»“æ„

#### Persona æ ¼å¼
```markdown
# Technical Expert

## ğŸ“ è§’è‰²æè¿°
Deep technical specialist with comprehensive system knowledge

## ğŸ­ äººæ ¼ç‰¹è´¨
### è§’è‰²å®šä½
Senior Engineer

### æ€§æ ¼ç‰¹ç‚¹
- technical
- detailed
- accurate
- structured

### æ²Ÿé€šé£æ ¼
technical with clear explanations and examples

### çŸ¥è¯†é¢†åŸŸ
- software engineering
- architecture
- infrastructure
- best practices

## ğŸ”§ èƒ½åŠ›é…ç½®
- **analysis**: âœ…
- **creative**: âŒ
- **technical**: âœ…
- **empathetic**: âŒ

## ğŸ“Š å…ƒæ•°æ®
- **åˆ›å»ºæ—¶é—´**: 2025-01-19
- **æœ€åä¿®æ”¹**: 2025-01-19
- **ä½¿ç”¨æ¬¡æ•°**: 0
- **ç”¨æˆ·è¯„åˆ†**: 5/5.0
```

#### Prompt Template æ ¼å¼
```markdown
# è§’è‰²æç¤º

## ğŸ“ æ¨¡æ¿å†…å®¹
```
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„ {language} å¼€å‘è€…ã€‚è¯·ä¸ºäº† {goal} æ¥å®¡æŸ¥è¿™ä¸ªå‡½æ•°ï¼š

{code}
```

## ğŸ’¡ ä½¿ç”¨è¯´æ˜
è®¾å®šä¸“å®¶è§’è‰²è·å¾—é«˜è´¨é‡å»ºè®®

## ğŸ¯ å‚æ•°è¯´æ˜
- **{language}**: ç¼–ç¨‹è¯­è¨€ç±»å‹
- **{goal}**: å®¡æŸ¥ç›®æ ‡ï¼ˆå¦‚æ€§èƒ½ä¼˜åŒ–ã€å®‰å…¨æ£€æŸ¥ç­‰ï¼‰
- **{code}**: éœ€è¦å®¡æŸ¥çš„ä»£ç 

## ğŸ“Š å…ƒæ•°æ®
- **åˆ›å»ºæ—¶é—´**: 2025-01-19
- **æœ€åä¿®æ”¹**: 2025-01-19
- **ä½¿ç”¨æ¬¡æ•°**: 0
```

## ğŸ”§ æŠ€æœ¯å®ç°

### å¢å¼ºçš„ AssetLoader

æ›´æ–°äº† `AssetLoader` ç±»ä»¥æ”¯æŒï¼š
- âœ… Markdown Front Matter è§£æ
- âœ… è‡ªåŠ¨å†…å®¹ç»“æ„æå–
- âœ… å‘åå…¼å®¹ JSON æ ¼å¼
- âœ… æ™ºèƒ½ç±»å‹æ¨æ–­

### æ–°å¢åŠŸèƒ½

1. **`loadFromMarkdown()`** - ä» Markdown æ–‡ä»¶åŠ è½½å•ä¸ªèµ„äº§
2. **`saveAssetToMarkdown()`** - å°†èµ„äº§ä¿å­˜ä¸º Markdown æ ¼å¼
3. **`parseFrontMatter()`** - è§£æ YAML Front Matter
4. **`parseMarkdownContent()`** - æå–ç»“æ„åŒ–å†…å®¹

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. æ‰§è¡Œè¿ç§»

```bash
# ç¬¬ä¸€æ­¥ï¼šè¿ç§»ç°æœ‰èµ„äº§
npm run assets:migrate

# ç¬¬äºŒæ­¥ï¼šåŒæ­¥å’ŒéªŒè¯
npm run assets:sync
```

### 2. æ—¥å¸¸ç»´æŠ¤

```bash
# å®šæœŸåŒæ­¥å…ƒæ•°æ®
npm run assets:sync

# éªŒè¯èµ„äº§å®Œæ•´æ€§
npm run assets:validate

# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
npm run assets:stats
```

### 3. åˆ›å»ºæ–°èµ„äº§

ç›´æ¥åˆ›å»º Markdown æ–‡ä»¶ï¼Œéµå¾ªæ ¼å¼è§„èŒƒï¼š

```bash
# åˆ›å»ºæ–°çš„ persona
touch assets/personas/new-expert.md

# åˆ›å»ºæ–°çš„ prompt template
touch assets/prompt-templates/new-technique.md
```

## âœ… ä¼˜åŠ¿

1. **å•ä¸€æ•°æ®æº** - æ¶ˆé™¤é‡å¤ç»´æŠ¤çš„å¤æ‚æ€§
2. **å¯è¯»æ€§å¼º** - Markdown æ ¼å¼æ›´é€‚åˆäººç±»é˜…è¯»å’Œç¼–è¾‘
3. **ç‰ˆæœ¬æ§åˆ¶å‹å¥½** - Git diff æ›´æ¸…æ™°ï¼Œä¾¿äºåä½œ
4. **è‡ªåŠ¨åŒ–ç»´æŠ¤** - å·¥å…·è‡ªåŠ¨å¤„ç†å…ƒæ•°æ®åŒæ­¥å’ŒéªŒè¯
5. **å‘åå…¼å®¹** - ç³»ç»Ÿä»æ”¯æŒåŠ è½½ç°æœ‰ JSON æ–‡ä»¶
6. **æ‰©å±•æ€§å¥½** - æ˜“äºæ·»åŠ æ–°çš„èµ„äº§ç±»å‹å’Œå­—æ®µ

## ğŸ” éªŒè¯å’Œç›‘æ§

### è‡ªåŠ¨éªŒè¯
- âœ… å¿…éœ€å­—æ®µæ£€æŸ¥
- âœ… ID å”¯ä¸€æ€§éªŒè¯
- âœ… ç‰ˆæœ¬æ ¼å¼è§„èŒƒ
- âœ… æ ‡ç­¾æ ¼å¼éªŒè¯
- âœ… æ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥

### ç»Ÿè®¡ç›‘æ§
- ğŸ“Š èµ„äº§ç±»å‹åˆ†å¸ƒ
- ğŸ‘¥ ä½œè€…è´¡çŒ®ç»Ÿè®¡
- ğŸ“ å†…å®¹è´¨é‡æŒ‡æ ‡
- ğŸ•’ æ›´æ–°é¢‘ç‡åˆ†æ

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Front Matter è§£æé”™è¯¯**
   - æ£€æŸ¥ YAML æ ¼å¼æ˜¯å¦æ­£ç¡®
   - ç¡®ä¿ `---` åˆ†éš”ç¬¦ä½ç½®æ­£ç¡®

2. **å…ƒæ•°æ®ç¼ºå¤±**
   - è¿è¡Œ `npm run assets:sync` è‡ªåŠ¨ä¿®å¤
   - æ‰‹åŠ¨æ·»åŠ ç¼ºå¤±çš„å¿…éœ€å­—æ®µ

3. **ID å†²çª**
   - æ£€æŸ¥é‡å¤çš„èµ„äº§ ID
   - é‡å‘½åå†²çªçš„æ–‡ä»¶

### æ¢å¤å¤‡ä»½

å¦‚æœéœ€è¦æ¢å¤åˆ°è¿ç§»å‰çš„çŠ¶æ€ï¼š

```bash
# åˆ é™¤å½“å‰èµ„äº§ç›®å½•
rm -rf assets/

# æ¢å¤å¤‡ä»½
cp -r assets-backup/ assets/
```

## ğŸ“ˆ æœªæ¥è§„åˆ’

1. **æ™ºèƒ½å†…å®¹åˆ†æ** - åŸºäºå†…å®¹è‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾å’Œåˆ†ç±»
2. **ç‰ˆæœ¬ç®¡ç†** - æ”¯æŒèµ„äº§ç‰ˆæœ¬å†å²å’Œå›æ»š
3. **åä½œåŠŸèƒ½** - æ”¯æŒå¤šäººåä½œç¼–è¾‘å’Œå®¡æ ¸æµç¨‹
4. **API é›†æˆ** - æä¾› REST API ç”¨äºå¤–éƒ¨ç³»ç»Ÿé›†æˆ

---

é€šè¿‡è¿™ä¸ªç»Ÿä¸€çš„èµ„äº§ç®¡ç†æ–¹æ¡ˆï¼Œæ‚¨å¯ä»¥ï¼š
- ğŸ¯ ä¸“æ³¨äºå†…å®¹åˆ›ä½œï¼Œè€Œä¸æ˜¯æ ¼å¼ç»´æŠ¤
- ğŸ”„ äº«å—è‡ªåŠ¨åŒ–çš„å…ƒæ•°æ®åŒæ­¥
- ğŸ“Š è·å¾—å®Œæ•´çš„èµ„äº§æ´å¯Ÿå’Œç»Ÿè®¡
- ğŸš€ æå‡å›¢é˜Ÿåä½œæ•ˆç‡