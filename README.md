# ğŸ­ Mantras MCP æœåŠ¡å™¨

> ä¼ä¸šçº§ AI èµ„äº§ç®¡ç†ã€Persona å¬å”¤å’Œæ™ºèƒ½æç¤ºå·¥ç¨‹å¹³å°

[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](package.json)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-blue.svg)](https://www.typescriptlang.org/)
[![MCP](https://img.shields.io/badge/MCP-Compatible-green.svg)](https://modelcontextprotocol.io/)

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ—ï¸ ç°ä»£åŒ–æ¶æ„ (NEW!)
- **ä¾èµ–æ³¨å…¥å®¹å™¨** - ç»Ÿä¸€æœåŠ¡ç®¡ç†ï¼Œé™ä½è€¦åˆåº¦
- **é…ç½®ç®¡ç†ç³»ç»Ÿ** - ç±»å‹å®‰å…¨çš„é…ç½®ï¼Œæ”¯æŒç¯å¢ƒå˜é‡å’Œæ–‡ä»¶
- **å…¨å±€é”™è¯¯å¤„ç†** - ç»“æ„åŒ–é”™è¯¯åˆ†ç±»å’Œç›‘æ§
- **ç›‘æ§å’Œç»Ÿè®¡** - å®æ—¶æ€§èƒ½ç›‘æ§å’Œå¥åº·æ£€æŸ¥

### ğŸ“ ç»Ÿä¸€èµ„äº§ç®¡ç†
- **Markdown ä¼˜å…ˆ** - äººç±»å‹å¥½çš„ Markdown + Front Matter æ ¼å¼
- **æ„å»ºæ—¶ä¼˜åŒ–** - é¢„ç¼–è¯‘èµ„äº§ï¼Œæå‡ 10x åŠ è½½æ€§èƒ½
- **æ™ºèƒ½åŠ è½½** - ä¼˜å…ˆä½¿ç”¨æ„å»ºæ—¶æ•°æ®ï¼Œå›é€€åˆ°å®æ—¶è§£æ
- **è‡ªåŠ¨åŒæ­¥** - å…ƒæ•°æ®è‡ªåŠ¨åŒæ­¥å’Œå®Œæ•´æ€§éªŒè¯
- **ç‰ˆæœ¬æ§åˆ¶å‹å¥½** - Git diff æ¸…æ™°ï¼Œä¾¿äºå›¢é˜Ÿåä½œ

### ğŸ§  æ™ºèƒ½è®°å¿†ç³»ç»Ÿ
- **å¯¹è¯å†å²ç®¡ç†** - è‡ªåŠ¨è®°å½•å’Œæ™ºèƒ½æ£€ç´¢å¯¹è¯
- **å¤šç±»å‹è®°å¿†å­˜å‚¨** - äº‹å®ã€ä»»åŠ¡ã€åå¥½ã€ä¸Šä¸‹æ–‡è®°å¿†
- **æ™ºèƒ½è®°å¿†æ£€ç´¢** - ç›¸å…³æ€§ç®—æ³•å’Œè¯­ä¹‰æœç´¢
- **è®°å¿†åˆ†ææ´å¯Ÿ** - æ¨¡å¼è¯†åˆ«å’Œè¿æ¥å‘ç°
- **ä¼šè¯é—´è®°å¿†ç»§æ‰¿** - å…¨å±€è®°å¿†å’ŒçŸ¥è¯†ç§¯ç´¯

### ğŸ­ Persona å¬å”¤ç³»ç»Ÿ
- **10ä¸ªä¸“ä¸šäººæ ¼** - åˆ†æå¸ˆã€åˆ›æ„ã€æŠ€æœ¯ä¸“å®¶ã€æ²»ç–—å¸ˆç­‰
- **10ä¸ªæç¤ºæ¨¡æ¿** - åŸºäºæœ€ä½³å®è·µçš„å·¥ç¨‹æ¨¡æ¿
- **æ™ºèƒ½å¬å”¤** - åŸºäºæ„å›¾çš„è‡ªåŠ¨äººæ ¼é€‰æ‹©
- **ä¼šè¯ç®¡ç†** - å¤šä¼šè¯å¹¶å‘å’ŒçŠ¶æ€ç®¡ç†
- **è®°å¿†é›†æˆ** - æ¯ä¸ª persona éƒ½å…·å¤‡è®°å¿†èƒ½åŠ›
- **åŠ¨æ€åˆæˆ** - ç»„åˆå¤šä¸ªäººæ ¼åˆ›å»ºæ–°çš„ä¸“å®¶

### ğŸ“ æç¤ºå·¥ç¨‹å¢å¼º
- **10å¤§æ ¸å¿ƒæŠ€å·§** - åŸºäºã€Šç¨‹åºå‘˜çš„æç¤ºå·¥ç¨‹å®æˆ˜æ‰‹å†Œã€‹
- **å¤šç§åˆ›å»ºæ–¹å¼** - å‘å¯¼ã€Webç¼–è¾‘å™¨ã€æ¨¡æ¿ç»„åˆ
- **æ™ºèƒ½æ¨è** - åŸºäºä¸Šä¸‹æ–‡çš„æ¨¡æ¿æ¨è
- **å‚æ•°åŒ–æ¨¡æ¿** - åŠ¨æ€å‚æ•°æ›¿æ¢å’ŒéªŒè¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…å’Œæ„å»º
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd mantras

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºé¡¹ç›®
npm run build

# å¯åŠ¨æœåŠ¡å™¨
npm start
```

### é…ç½®é€‰é¡¹
```bash
# æŒ‡å®šèµ„äº§ç›®å½•
npm start -- --assets-dir ./custom-assets

# ä½¿ç”¨æ„å»ºæ—¶ä¼˜åŒ–çš„èµ„äº§
npm start -- --use-build-assets

# è®¾ç½®æ—¥å¿—çº§åˆ«
npm start -- --log-level debug
```

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºé¡¹ç›® (åŒ…å«èµ„äº§å¤„ç†)
npm run build

# å¯åŠ¨æœåŠ¡å™¨
npm start
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶
```
src/
â”œâ”€â”€ server.ts                    # ä¸»æœåŠ¡å™¨ (é›†æˆæ–°æ¶æ„)
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ container/              # ä¾èµ–æ³¨å…¥å®¹å™¨
â”‚   â”œâ”€â”€ errors/                 # å…¨å±€é”™è¯¯å¤„ç†
â”‚   â””â”€â”€ tools/                  # å·¥å…·åŸºç¡€è®¾æ–½
â”œâ”€â”€ config/
â”‚   â””â”€â”€ environment.ts          # é…ç½®ç®¡ç†ç³»ç»Ÿ
â”œâ”€â”€ presentation/
â”‚   â””â”€â”€ mcp/                    # MCP å·¥å…·æ³¨å†Œ
â””â”€â”€ tools/                      # MCP å·¥å…·å®ç°
```

### æ¶æ„ç‰¹ç‚¹
- **ä¾èµ–æ³¨å…¥**: ç»Ÿä¸€æœåŠ¡ç®¡ç†ï¼Œä¾¿äºæµ‹è¯•å’Œç»´æŠ¤
- **é…ç½®ç®¡ç†**: ç±»å‹å®‰å…¨çš„é…ç½®ç³»ç»Ÿï¼Œæ”¯æŒç¯å¢ƒå˜é‡
- **é”™è¯¯å¤„ç†**: ç»“æ„åŒ–é”™è¯¯åˆ†ç±»å’Œå…¨å±€ç›‘æ§
- **å·¥å…·æ³¨å†Œ**: ç»Ÿä¸€çš„å·¥å…·æ³¨å†Œå’Œæ‰§è¡Œæ¡†æ¶

## ğŸ› ï¸ èµ„äº§ç®¡ç†

### æ„å»ºæ—¶å¤„ç†
```bash
npm run build:assets     # å¤„ç†å’ŒéªŒè¯èµ„äº§
npm run build:code       # ç¼–è¯‘ TypeScript ä»£ç 
npm run build           # å®Œæ•´æ„å»ºæµç¨‹
```

### èµ„äº§ç»´æŠ¤
```bash
npm run assets:migrate   # è¿ç§» JSON åˆ° Markdown
npm run assets:sync      # åŒæ­¥å…ƒæ•°æ®
npm run assets:cleanup   # æ¸…ç†é‡å¤æ–‡ä»¶
npm run assets:validate  # éªŒè¯èµ„äº§å®Œæ•´æ€§
```

### å¼€å‘å·¥å…·
```bash
npm run assets:demo      # åŠŸèƒ½æ¼”ç¤º
npm run prompt:create    # åˆ›å»ºæç¤ºæ¨¡æ¿
npm run prompt:manage    # ç®¡ç†æç¤ºæ¨¡æ¿
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

| æ¨¡å¼ | é¦–æ¬¡åŠ è½½ | ç¼“å­˜åŠ è½½ | å†…å­˜ä½¿ç”¨ | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|----------|----------|
| æ„å»ºæ—¶ä¼˜åŒ– | ~5ms | <1ms | ä½ | ç”Ÿäº§ç¯å¢ƒ |
| Markdown è§£æ | ~50ms | ~1ms | ä¸­ç­‰ | å¼€å‘ç¯å¢ƒ |

### ç”Ÿäº§éƒ¨ç½²
```bash
# ä½¿ç”¨æ„å»ºæ—¶ä¼˜åŒ–çš„èµ„äº§
npm run build
npm start -- --use-build-assets

# æŒ‡å®šè‡ªå®šä¹‰èµ„äº§ç›®å½•
npm start -- --assets-dir /path/to/assets
```

## ğŸ­ MCP å·¥å…·é›†

### ç³»ç»Ÿå·¥å…·
- **`init`** - ç³»ç»Ÿåˆå§‹åŒ–å’Œæ¦‚è§ˆ
- **`get_project_context`** - è·å–é¡¹ç›®ä¸Šä¸‹æ–‡ä¿¡æ¯

### èµ„äº§ç®¡ç†å·¥å…·
- **`list_assets`** - åˆ—å‡ºæ‰€æœ‰å¯ç”¨èµ„äº§
- **`get_asset`** - è·å–ç‰¹å®šèµ„äº§è¯¦æƒ…

### Persona ç³»ç»Ÿå·¥å…·
- **`list_personas`** - åˆ—å‡ºæ‰€æœ‰å¯ç”¨äººæ ¼
- **`summon_persona`** - å¬å”¤ç‰¹å®šäººæ ¼
- **`analyze_user_intent`** - åˆ†æç”¨æˆ·æ„å›¾
- **`get_persona_options`** - è·å–äººæ ¼é€‰é¡¹
- **`evaluate_persona_match`** - è¯„ä¼°äººæ ¼åŒ¹é…åº¦
- **`list_active_sessions`** - åˆ—å‡ºæ´»è·ƒä¼šè¯
- **`get_session`** - è·å–ä¼šè¯è¯¦æƒ…
- **`release_session`** - é‡Šæ”¾ä¼šè¯
- **`synthesize_persona`** - åˆæˆæ–°äººæ ¼

### æç¤ºå·¥ç¨‹å·¥å…·
- **`list_mantras`** - åˆ—å‡ºæ‰€æœ‰ Mantra æ¨¡æ¿
- **`apply_mantra`** - åº”ç”¨ Mantra æ¨¡æ¿
- **`create_execution_plan`** - åˆ›å»ºæ‰§è¡Œè®¡åˆ’
- **`execute_plan`** - æ‰§è¡Œè®¡åˆ’

### è®°å¿†ç³»ç»Ÿå·¥å…·
- **`manage_memory`** - ç®¡ç†è®°å¿†ç³»ç»Ÿ
- **`analyze_memory`** - åˆ†æè®°å¿†æ¨¡å¼
- **`list_assets`** - åˆ—å‡ºæ‰€æœ‰å¯ç”¨èµ„äº§
- **`get_asset`** - è·å–ç‰¹å®šèµ„äº§è¯¦æƒ…
- **`summon_persona`** - å¬å”¤æŒ‡å®šäººæ ¼
- **`summon_by_intent`** - åŸºäºæ„å›¾æ™ºèƒ½å¬å”¤

### è®°å¿†ç®¡ç†
- **`manage_memory`** - ç®¡ç†å¯¹è¯ã€ä¸Šä¸‹æ–‡å’Œé•¿æœŸè®°å¿†
- **`analyze_memory`** - åˆ†æè®°å¿†æ¨¡å¼å’Œæ´å¯Ÿ
- **`get_session`** - è·å–ä¼šè¯è¯¦æƒ…
- **`release_session`** - ç»“æŸæ´»è·ƒä¼šè¯

### é«˜çº§åŠŸèƒ½
- **`synthesize_persona`** - åˆæˆæ–°äººæ ¼
- **`apply_mantra`** - åº”ç”¨æç¤ºæ¨¡æ¿
- **`create_execution_plan`** - åˆ›å»ºæ‰§è¡Œè®¡åˆ’
- **`get_project_context`** - è·å–é¡¹ç›®ä¸Šä¸‹æ–‡

## ğŸ“ èµ„äº§ç»“æ„

### Persona èµ„äº§ (6ä¸ª)
```
assets/personas/
â”œâ”€â”€ analyst.md          # æ•°æ®åˆ†æå¸ˆ
â”œâ”€â”€ creative.md         # åˆ›æ„ä½œå®¶  
â”œâ”€â”€ helper-persona.md   # é€šç”¨åŠ©æ‰‹
â”œâ”€â”€ mcp-summoner.md     # äººæ ¼å¬å”¤å¸ˆ
â”œâ”€â”€ tech-expert.md      # æŠ€æœ¯ä¸“å®¶
â””â”€â”€ therapist.md        # æ”¯æŒä¸“å®¶
```

### æç¤ºæ¨¡æ¿ (10ä¸ª)
```
assets/prompt-templates/
â”œâ”€â”€ role-prompting.md           # è§’è‰²æç¤º
â”œâ”€â”€ explicit-context.md         # æ˜ç¡®ä¸Šä¸‹æ–‡
â”œâ”€â”€ input-output-examples.md    # è¾“å…¥è¾“å‡ºç¤ºä¾‹
â”œâ”€â”€ iterative-chaining.md       # è¿­ä»£å¼é“¾æ¡
â”œâ”€â”€ debug-simulation.md         # æ¨¡æ‹Ÿè°ƒè¯•
â”œâ”€â”€ feature-blueprinting.md     # åŠŸèƒ½è“å›¾
â”œâ”€â”€ refactor-guidance.md        # é‡æ„æŒ‡å¯¼
â”œâ”€â”€ ask-alternatives.md         # å¯»æ±‚æ›¿ä»£æ–¹æ¡ˆ
â”œâ”€â”€ rubber-ducking.md           # å°é»„é¸­è°ƒè¯•æ³•
â””â”€â”€ constraint-anchoring.md     # çº¦æŸé”šå®š
```

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```mermaid
graph TB
    A[MCP Client] --> B[Mantras Server]
    B --> C[Asset Repository]
    B --> D[Persona Summoner]
    B --> E[Memory System]
    
    C --> F[Build-Time Assets]
    C --> G[Markdown Assets]
    
    D --> H[Session Manager]
    D --> I[Persona Synthesizer]
    
    E --> J[Conversation Memory]
    E --> K[Context Memory]
    E --> L[Long-term Memory]
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–° Persona
1. åœ¨ `assets/personas/` åˆ›å»º Markdown æ–‡ä»¶
2. ä½¿ç”¨æ ‡å‡† Front Matter æ ¼å¼
3. è¿è¡Œ `npm run assets:sync` åŒæ­¥
4. è¿è¡Œ `npm run build:assets` éªŒè¯

### åˆ›å»ºæç¤ºæ¨¡æ¿
1. ä½¿ç”¨ `npm run prompt:create` å‘å¯¼
2. æˆ–ç›´æ¥åœ¨ `assets/prompt-templates/` åˆ›å»º
3. åŒ…å«å®Œæ•´çš„å‚æ•°è¯´æ˜å’Œç¤ºä¾‹
4. è¿è¡Œæ„å»ºéªŒè¯æ ¼å¼

### æ‰©å±•åŠŸèƒ½
1. åœ¨ `src/tools/` æ·»åŠ æ–°å·¥å…·
2. åœ¨ `src/server.ts` æ³¨å†Œå·¥å…·
3. æ·»åŠ ç›¸åº”çš„æµ‹è¯•æ–‡ä»¶
4. æ›´æ–°æ–‡æ¡£å’Œç¤ºä¾‹

## ğŸ“š æ–‡æ¡£

### ç”¨æˆ·æŒ‡å—
- [å¿«é€Ÿå¼€å§‹](docs/getting-started.md)
- [æ ¸å¿ƒæ¦‚å¿µ](docs/core-concepts.md)
- [ç»Ÿä¸€èµ„äº§ç®¡ç†](docs/guides/unified-asset-management.md)
- [æ„å»ºæ—¶èµ„äº§å¤„ç†](docs/guides/build-time-asset-processing.md)

### å¼€å‘è€…æŒ‡å—
- [æ¶æ„è¯´æ˜](docs/architecture/README.md)
- [API å‚è€ƒ](docs/reference/commands.md)
- [å†…å­˜ç³»ç»Ÿ](docs/guides/memory-system.md)
- [Persona ç³»ç»Ÿ](docs/guides/persona-system.md)

### ç»´æŠ¤æ–‡æ¡£
- [è„šæœ¬æ¸…ç†æ€»ç»“](docs/maintenance/script-cleanup-summary.md)
- [èµ„äº§è¯»å–åˆ†æ](docs/maintenance/asset-reading-analysis.md)
- [æ–‡æ¡£æ›´æ–°è®¡åˆ’](docs/maintenance/documentation-update-plan.md)

## ğŸ¤ è´¡çŒ®

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone <your-fork>
cd mantras

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# è¿è¡Œæµ‹è¯•
npm test

# æ„å»ºéªŒè¯
npm run build
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ ISC è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- ğŸ¤ [Persona Summoner](https://github.com/yinwm/persona-summoner) - è½»é‡çº§ AI äººæ ¼å¬å”¤æœåŠ¡ï¼Œå‹è”é¡¹ç›®
- ğŸš€ [PromptX](https://github.com/Deepractice/PromptX) - é¢†å…ˆçš„ AI ä¸Šä¸‹æ–‡å·¥ç¨‹å¹³å°ï¼Œé©å‘½æ€§äº¤äº’è®¾è®¡
- ğŸ”— [Model Context Protocol](https://modelcontextprotocol.io/) - å¼ºå¤§çš„ AI é›†æˆåè®®
- ğŸ“š [ã€Šç¨‹åºå‘˜çš„æç¤ºå·¥ç¨‹å®æˆ˜æ‰‹å†Œã€‹](ref/prompt-engineering-playbook-zh.md) - æç¤ºå·¥ç¨‹æœ€ä½³å®è·µ
- ğŸ‘¥ æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„åé¦ˆå’Œæ”¯æŒ

---

**ğŸš€ ç«‹å³å¼€å§‹**: `npm install && npm run build && npm start`